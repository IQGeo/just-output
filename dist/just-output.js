!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.jo=e():t.jo=e()}(this,(()=>(()=>{"use strict";var t={d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{default:()=>A,output:()=>l,section:()=>c,setCurrentTest:()=>r,specs:()=>n,subTest:()=>i,suite:()=>a,test:()=>u,testRunner:()=>P,tests:()=>_});const n=[];let o,s={};function r(t){s.test=t}function a(t,e){o=t,e&&(e(),o=void 0)}function u(...t){const e=t.length,s=t[0],r=e>=3?t[2]:t[1],a=e>=3?t[1]:{},u=o?o+"_"+s:s;n.push({name:u.replace(/[^a-z0-9]/gi,"_"),testFunc:r,testOpts:a,suite:o})}function c(t,e){"function"==typeof e?(l("\n***",t),e()):l("\n***",...arguments)}function i(...t){const e=t.length,n=t[0],o=e>=3?t[2]:t[1];e>=3&&t[1],s.test.subTests.push((async function(){l("\n***",n);try{await o()}catch(t){(t instanceof Error?t:new Error(t.msg||t)).stack.split("\n").forEach((t=>l(t)))}}))}function l(...t){const e=t.map((t=>"string"==typeof t?t:f(t)));s.test.output+=e.join(" "),s.test.output+="\n"}function f(t,e){t instanceof Set&&(t=[...t].sort());const n=Object.prototype.toString.call(t);e=e||1;const o=new Array(e+1).join("\t"),s=new Array(e).join("\t");if("[object Object]"===n){const n=[];for(const o in t)t.hasOwnProperty(o)&&n.push([o,f(t[o],e+1)]);return n.sort((function(t,e){return t[0]<e[0]?-1:1})),"{\n"+n.reduce((function(t,e,n){return(n?t+",\n":"")+o+'"'+e[0]+'": '+e[1]}),"")+"\n"+s+"}"}return"[object Array]"===n?"[\n"+t.reduce((function(t,n,s){return(s?t+",\n":"")+o+f(n,e+1)}),"")+"\n"+s+"]":"[object Number]"===n?t.toString().length>13||Math.abs(t)>1e12?parseFloat(t.toPrecision(12)).toString():t.toString():JSON.stringify(t,null,"\t")}const p=n;var h=function(t,e,n){void 0===n&&(n=function(t,e){return t===e});var o=[],s=function(r,a,u,c){var i=a-r+1,l=c-u+1;if(i>0&&l>0){var f=function(o,s,r,a){var u=s-o+1,c=a-r+1,i=u+c,l=u-c,f=(i+1)/2|0,p=null,h={},g={};h[1]=0,g[l-1]=u;for(var y=0;y<=f;y++){for(var v=-y;v<=y&&!p;v+=2)if(j=(w=v===-y||v!==y&&h[v-1]<h[v+1]?h[v+1]:h[v-1]+1)-v,!(isNaN(j)||w>u||j>c)){for(var b=w;w<u&&j<c&&n(t[o+w],e[r+j]);)w++,j++;h[v]=w,1==(1&l)&&d(v,l-(y-1),l+(y-1))&&h[v]>=g[v]&&(p=[b,w].map((t=>m(t,v))))}if(p)var T=2*y-1;for(v=-y;v<=y&&!p;v+=2){var w,j,R=v+l;if(j=(w=v===y||v!==-y&&g[R-1]<g[R+1]?g[R-1]:g[R+1]-1)-R,!(isNaN(j)||w<0||j<0)){for(b=w;w>0&&j>0&&n(t[o+w-1],e[r+j-1]);)w--,j--;g[R]=w,l%2==0&&d(R,-y,y)&&g[R]<=h[R]&&(p=[w,b].map((t=>m(t,R))))}}if(p){T=T||2*y;for(var O=0;O<2;O++)for(var S=0;S<2;S++)p[O][S]+=[o,r][S]-O;return p.concat([T,(i-T)/2])}}}(r,a,u,c),p=f[0][0],h=f[0][1],g=f[1][0],y=f[1][1];f[2]>1?(s(r,p-1,u,h-1),p<=g&&o.push(...t.slice(p,g+1)),s(g+1,a,y+1,c)):l>i?o.push(...t.slice(r,a+1)):o.push(...e.slice(u,c+1))}};return s(0,t.length-1,0,e.length-1),o},d=function(t,e,n){return e<=t&&t<=n||n<=t&&t<=e},m=function(t,e){return[t,t-e]};h.StringLCS=function(t,e){return h(t.split(""),e.split("")).join("")};var g=function(t,e,n){for(var o=e;o<this.length;o++)if(n(t,this[o]))return o;return-1};const y={tmpdir:void 0,getFilename:t=>t.name,getTestName:t=>t.name};let v,b,T=!1;class w{constructor(t,e){this._tests=t,v=e}setOptions(t){Object.assign(y,t)}async run(t,e){T=!1,v.startRun(e,y);let n=0;for(const e of this._tests){if(T)break;if(t&&!R(t,e))continue;n++,b=e,r(e),e.output="",e.subTests=[],e.filename=y.getFilename(e);try{await this.runTest(e.testFunc);for(const t of e.subTests)await this.runTest(t)}catch(t){O(t)}try{await v.writeTmpResult(e)}catch(t){console.log(t)}let o;try{o=await v.getAcceptedResult(e)}catch(t){o=null}const s=j(o);v.handleResult(e,s)}1!==n&&n!==this._tests.length&&console.log(`Ran ${n} tests out of ${this._tests.length}`)}async runTest(t){try{await t()}catch(t){O(t)}}cancelTests(){T=!0}listTests(t){this.getTests(t).forEach((t=>{console.log("test:",y.getTestName(t))}))}listTestFilenames(t){this.getTests(t).forEach((t=>{console.log(t.name+": "+y.getFilename(t))}))}getTests(t){return t?p.filter(R.bind(null,t)):p}}function j(t){const e=b.output;if(null===t)return{pass:!1,message:"No accepted output ("+v.getAcceptedResultPath()+")"};var n=function(t,e,n){void 0===n&&(n=function(t,e){return t===e});for(var o=[],s=0,r=0,a=t.length,u=e.length,c=0;s<a&&r<u&&n(t[s],e[r]);)s++,r++;for(;s<a&&r<u&&n(t[a-1],e[u-1]);)a--,u--,c++;o.push(...t.slice(0,s));for(var i=h(t.slice(s,a),e.slice(r,u),n),l=0;l<i.length;l++){var f=i[l],p=g.call(t,f,s,n),d=g.call(e,f,r,n);o.push(...t.slice(s,p).map((function(t){return{operation:"delete",atom:t}}))),o.push(...e.slice(r,d).map((function(t){return{operation:"add",atom:t}}))),o.push({operation:"none",atom:f}),s=p+1,r=d+1}return o.push(...t.slice(s,a).map((function(t){return{operation:"delete",atom:t}}))),o.push(...e.slice(r,u).map((function(t){return{operation:"add",atom:t}}))),o.push(...t.slice(a,a+c).map((function(t){return{operation:"none",atom:t}}))),o}(e.split(/\r?\n/),t.split(/\r?\n/)),o=n.filter((t=>"add"==t.operation||"delete"==t.operation)),s={pass:0===o.length,message:""};if(s.pass)s.message="output is equal to accepted output";else{var r=[];o.forEach((t=>{"add"==t.operation?r.push("-  "+t.atom):"delete"==t.operation?r.push("+  "+t.atom):t.atom?r.push("   "+t.atom):r.push("   "+t)})),s.message="Expected output to match accepted output:\n"+r.join("\n"),s.diffs=o,s.comparison=n}return s}const R=function(t,e){return null!=e.name.match(t)};function O(t){var e=t instanceof Error?t:new Error(t.msg||t);if(document&&document.location&&document.location.search&&document.location.search.indexOf("spec=")>=0){if(document.location.search.indexOf("catch=false")>=0)throw e;console.log(e.stack),S(e)}else S(e)}function S(t){t.stack.split("\n").forEach((t=>l(t)))}let E="results";function x(t){return E+"/"+t.filename+".txt"}const N={startRun:function(t,e){t&&(E=t),justOutputUIRender(!0)},writeTmpResult:function(t){},getAcceptedResult:function(t){return e=x(t)+"?"+Math.random(),new Promise((function(t,n){var o=new XMLHttpRequest;function s(){if(o.status>=200&&o.status<400){var e=o.response||o.responseText||o.responseXML;t(e)}else{var s=new Error("Status code was "+o.status);s.code=o.status,s.responseText=o.responseText,n(s)}}try{o.open("GET",e,!0),o.onreadystatechange=function(){4===o.readyState&&s()},o.onload=o.load=s,o.onerror=o.error=function(){n(new Error("Can't XHR "+JSON.stringify(e)))},o.send()}catch(t){n(t)}}));var e},getAcceptedResultPath:x,handleResult:function(t,e){window.handleTestResult(e,t)}},P=(t,e=N)=>new w(t,e),_=P(n),A={tests:_,testRunner:P,specs:n,suite:a,test:u,section:c,subTest:i,output:l};return e})()));